
# 1. 未来矿工收益问题

::: tip 问题背景

为了维持 PoW 系统的安全运行，需要给矿工足够的收入。

目前每天可挖三百多万个 Kaspa 币 (2025年10月)，但有 93% 的币已被挖出。

2029 年，每天只能挖三十万左右。

2032 年，每天只能挖三万个左右。

Kaspa 的设计，是在未来通过交易费补贴矿工，维持系统安全运行。但目前交易费太低，每天只有几千到几万个 Kaspa。

- 交易费查询：[https://www.kaspalytics.com/](https://www.kaspalytics.com/)

**除非，价格大幅上涨，或者交易费大幅增多……**

:::

### 2025年10月：核心团队的讨论

核心开发团队在官方群 [https://t.me/kasparnd/4796](https://t.me/kasparnd/4796) 中讨论交易费的问题。

**核心议题**：讨论通过矿工投票机制动态设定网络最低交易费率（min fee threshold）的提案，以应对区块链网络的安全预算问题。

---

主要观点摘要：

1. **动态费率提案**  
   - 由 Michael Sutton 提出：让矿工通过区块的额外数据字段投票设定最低交易费率，全网节点（包括矿工）每10分钟统计一次，取投票值的**25%低分位数**作为当前最低费率标准。  
   - **目的**：避免在代码中固定费率，让矿工根据市场供需动态调整，同时假设矿工是合作且非贪婪的，需通过机制智能达成共识。

2. **系统安全预算的三阶段分析**（由 Yonatan Sompolinsky 阐述）  
   - **第一阶段（需求严重不足）**：真实交易需求远低于网络安全预算需求，任何机制（如EIP-1559、智能费率估计）均无法解决安全预算问题。认为Kaspa目前可能处于此阶段。  
   - **第二阶段（需求充足但机制不完善）**：真实需求足以覆盖安全预算，但现有机制无法激励用户透露真实付费意愿（非“激励兼容”）。此阶段需要动态费率发现机制（如提案或EIP-1559）来优化。  
   - **第三阶段（需求高于供给）**：网络健康，无需复杂机制，常规竞价（如“价高者得”）即可满足需求。

3. **25%分位数的依据**  
   - 为防止单个矿工为牟利接受低费率交易、引发“竞次”恶性循环，需让P2P网络遵循大多数矿工（如75%）的投票结果。  
   - 若阈值设为90%，只需11%的矿工即可破坏协调；50%虽安全但易被操纵。折中选择25%低分位数（即75%矿工支持的标准）可在防止恶意压价和抗操纵间取得平衡。

4. **讨论意义**  
   - 即使当前处于第一阶段，提前探索第二阶段机制有助于进行**市场价格发现**，测试用户真实付费意愿，为未来过渡做准备。


---

承接之前的讨论，以下是 Yonatan 提出的另外三种截然不同的解决方案。

**方案三：实施有用工作量证明**
*   **核心内容：** 一个完全独立的解决方案是在未来规划中引入**有用工作量证明**。
*   **路径与条件：**
    *   这是一个**长期方案**。
    *   需要先观察和学习**pouw团队**的实际成果与成功经验，然后将其适配到DAG（有向无环图）结构中。
    *   此类重大变更需要社区的**绝对多数共识**才能实现。

**方案四：创建新的代币标准（KRC-21）**
*   **核心内容：** 另一种截然不同的方法是为L2或内置式L2上的**真实DeFi代币**（非 meme 币）发明一种新的代币标准——**KRC-21**。该标准设计的代币会产生有意义的通胀（相当于税收），并支付给矿工以支持L1的安全。
*   **实施方式与愿景：**
    *   该标准**不会通过共识协议强制强制执行**，但相信能形成强大的**社会共识**。
    *   为更好地支持Kaspa，希望这类代币能**强制要求**首先通过公开的AMM或CLOB与Kas进行交换。
*   **背景灵感：** 此想法源于以太坊社区关于L2如何支持L1安全及实现利益一致的讨论。

**方案五（最具战略性的核心工作）：推动Kaspa发展阶段升级**
*   **核心内容：** 最重要、最具有战略性的工作是**帮助Kaspa从其当前阶段向上推进**（从第一阶段到第二阶段，再到第三阶段）。
*   **现状与展望：**
    *   这符合Kaspa的既定发展轨迹。
    *   许多Kaspa社区成员（包括发言者本人）正在为此努力。
    *   预计在接下来的几周内分享更多细节。


### 2025-10-12：FreshAir08 的新提议

::: info 背景

Kaspa 的核心团队成员 FreshAir08 今天(2025-10-12)提到了他与 Yonatan 的最近研究情况：

- [https://x.com/FreshAir08/status/1977068759262142639](https://x.com/FreshAir08/status/1977068759262142639)

:::

#### (1). 文章翻译

::: tip 翻译：

过去几天，我和 @hashdag(Yonatan) 在研究什么，简单说几句：

2017年Lavi、Sattath和Zohar的一篇论文提出了一种针对区块链的替代性费用机制。其核心思想初看有违直觉——**矿工向他们区块中的所有交易，收取该区块中包含的*支付最低*的那笔交易的费用**（即使那些同意支付更高费用的交易也一样）。这个想法是为了让矿工去优化“交易数量 × 最低价值交易”，从而自然排除那些支付费用远低于其他交易的交易。可以（大致地）把它看作一种智能且自适应的“最低费用”实现方式。这种机制的理想效果在于，它能以一种独立于区块大小（即，即使内存池小于单个区块的容量）的方式，激励用户向矿工支付更高的费用。

首先，需要指出的是，据我所知，这个方案从未在现实世界中实现过。
其次，以上所述对于区块链是成立的。而挑战之一在于如何将其应用到DAGs上。在继续之前，我想澄清一个关于Kaspa的常见误解：

---------------**插曲：包容性区块链**---------------

Kaspa的高吞吐量主要*并非*源于并行区块中的交易——即使未被选中的链上的交易被丢弃，**仅凭它能为给定的区块大小允许更高的出块率**（……对于给定的安全参数和最低硬件要求等），Kaspa仍然比传统区块链容量更大。但确实，随着并行区块数量的增加，这种简单效果会减弱——如果你丢弃并行区块的交易，吞吐量就被浪费了。这种吞吐量可以通过一种称为“包容性协议”的方案来挽回。简而言之，就是为并行区块规定一个顺序，其中所有不与先前交易冲突的交易都会像往常一样被记录到账本中。*理论上*，我们现在可以让每个区块都发挥其最大的吞吐量。

但是，为什么不是所有并行区块都包含相同的交易，从而浪费我们理论上的收益呢？嗯，如果它们都选择相同的交易，有时会大获成功，但更多时候会一无所获。那么，选择其他矿工没有选择的交易的矿工，平均来说会更好！即使那些交易支付的手续费更低。长话短说，结果发现，对他们而言“正确的”（“均衡的”，带着大约五个星号的注意事项）做法是随机选择交易，但要**根据交易支付的手续费进行加权**。这里做了大量简化，特此说明。巧合的是，这通常也能为系统带来良好的吞吐量。这就是目前Kaspa的情况，但我再次强调，**这并非Kaspa高吞吐量的唯一来源**。

---------------------**插曲结束**---------------------

所以，基本上，尽管理论上可以退一步放弃“包容性”（牺牲一些宝贵的吞吐量），但我们希望将这种新的费用机制与Kaspa目前使用的包容性协议的见解结合起来。

采用新的费用机制后，均衡状态会改变，随着矿工采取不同的策略，用户行为的原有保证也需要重新审视——因此，一旦设定了矿工的均衡，我们还需要探究用户的均衡。

我们希望，在完成所有分析之后，能够发现要么可以维持与原论文中类似的用户行为保证，要么我们将尝试找到原方案的一个变体来实现这一点。

顺便说一下，如果有具备相关背景的人也想研究这个问题，我们也非常欢迎。像其他事情一样，研究的长期去中心化也是一个目标。

最后两点：

- a) 任何费用机制的改变，无论多好，都**无法替代增加需求的重要性**。这项努力应该与为Kaspa构建新的实用功能（例如vProgs）同步进行。

- b) 这是一个**中期解决方案**（但我认为这是一项早该进行的严肃研究），并且需要硬分叉。社区内部提出过一些可以立即实施的修改建议。这些建议可能从长远看理论依据不足，但通常无害——例如，矿工可调整的最低费用。这类解决方案通常容易陷入囚徒困境，而且正如我所说，我认为单靠费用政策目前无法改变大局——但如果有人要实施这个，我个人不会反对，因为它无害。在我看来，这听起来像是一个进入Rust版Kaspa开发的很好的入门级项目。

:::

#### (2). 对比 Kaspa 当前费用机制

与Kaspa现有机制相比，该论文机制的核心优势在于：**它能在一个去中心化的系统中，智能地、自适应地建立和维持一个“市场最低费用”标准，从而可能提升矿工的整体收入并改善网络的安全预算。**

1.  **创造“费用地板”，抵御“公地悲剧”**
    *   **当前机制问题**：在区块空间充足时，矿工有强烈动机打包任何费用大于零的交易，因为总比空着好。这容易导致费用竞争至接近零，形成“囚徒困境”，削弱网络安全性。
    *   **论文机制解决方案**：该机制改变了矿工的激励方式。矿工不再仅仅追求填满区块，而是追求**最大化（区块容量 × 区块内最低费用）**。这会激励矿工忽略那些出价过低的交易，从而在市场中自然地形成一个“费用地板”。

2.  **激励用户支付更高费用**
    *   **当前机制**：用户如果只想被包含进区块，而没有加速需求，就有很强的动机支付极低的费用。
    *   **论文机制**：用户支付的费用如果低于当前市场的“地板价”，其交易将被忽略。如果用户想被包含，他必须支付至少与当前“地板价”相当的费用。这直接将用户拉入了维护网络费用水平的体系中。

3.  **可能更适合未来高吞吐量、低拥堵的状态**
    *   如果Kaspa成功实现了其高吞吐量目标，网络可能大部分时间处于**非拥堵**状态。在当前机制下，这极易导致手续费趋于零。而论文机制恰恰为这种“成功后的场景”提供了一个解决方案，**即使在区块空间不稀缺的情况下，也能维持一个有意义的费用市场**，为网络安全（安全预算）提供持续支持。

---

论文机制虽有理论优势，但Kaspa当前的机制也因其简洁和高效而具有强大生命力。

1.  **简单有效，易于实现**
    *   当前机制非常直观，不需要改变用户的行为模式（用户仍按“价高者得”的直觉出价），也更容易在复杂的DAG结构中进行工程实现。

2.  **在高需求时资源分配效率高**
    *   当交易需求旺盛，内存池爆满时，当前机制能有效地将区块空间分配给那些支付意愿最高的交易，这本身就是一种高效的市场行为。

3.  **与“包容性协议”协同性好**
    *   正如文章所指，当前的按费用加权随机选择策略，恰好能鼓励矿工选择不同的交易，从而完美地利用了DAG的包容性协议，回收了因区块并行而产生的潜在吞吐量损失。这是一种“无心插柳”但非常美妙的契合。改变费用机制可能会打破这种微妙的平衡。



#### (3). 相关论文

- [https://arxiv.org/pdf/1709.08881](https://arxiv.org/pdf/1709.08881)

- [https://www.avivz.net/pubs/15/inclusive_btc_full.pdf](https://www.avivz.net/pubs/15/inclusive_btc_full.pdf)






