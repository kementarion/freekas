# Kaspa 问题讨论


## 1. 未来矿工收益问题

::: tip 问题背景

为了维持 PoW 系统的安全运行，需要给矿工足够的收入。

目前每天可挖三百多万个 Kaspa 币 (2025年10月)，但有 93% 的币已被挖出。

2029 年，每天只能挖三十万左右。

2032 年，每天只能挖三万个左右。

Kaspa 的设计，是在未来通过交易费补贴矿工，维持系统安全运行。但目前交易费太低，每天只有几千到几万个 Kaspa。

- 交易费查询：[https://www.kaspalytics.com/](https://www.kaspalytics.com/)

**除非，价格大幅上涨，或者交易费大幅增多……**

:::

### 2025年10月：核心团队的讨论

核心开发团队在官方群 [https://t.me/kasparnd/4796](https://t.me/kasparnd/4796) 中讨论交易费的问题。

**核心议题**：讨论通过矿工投票机制动态设定网络最低交易费率（min fee threshold）的提案，以应对区块链网络的安全预算问题。

---

主要观点摘要：

1. **动态费率提案**  
   - 由 Michael Sutton 提出：让矿工通过区块的额外数据字段投票设定最低交易费率，全网节点（包括矿工）每10分钟统计一次，取投票值的**25%低分位数**作为当前最低费率标准。  
   - **目的**：避免在代码中固定费率，让矿工根据市场供需动态调整，同时假设矿工是合作且非贪婪的，需通过机制智能达成共识。

2. **系统安全预算的三阶段分析**（由 Yonatan Sompolinsky 阐述）  
   - **第一阶段（需求严重不足）**：真实交易需求远低于网络安全预算需求，任何机制（如EIP-1559、智能费率估计）均无法解决安全预算问题。认为Kaspa目前可能处于此阶段。  
   - **第二阶段（需求充足但机制不完善）**：真实需求足以覆盖安全预算，但现有机制无法激励用户透露真实付费意愿（非“激励兼容”）。此阶段需要动态费率发现机制（如提案或EIP-1559）来优化。  
   - **第三阶段（需求高于供给）**：网络健康，无需复杂机制，常规竞价（如“价高者得”）即可满足需求。

3. **25%分位数的依据**  
   - 为防止单个矿工为牟利接受低费率交易、引发“竞次”恶性循环，需让P2P网络遵循大多数矿工（如75%）的投票结果。  
   - 若阈值设为90%，只需11%的矿工即可破坏协调；50%虽安全但易被操纵。折中选择25%低分位数（即75%矿工支持的标准）可在防止恶意压价和抗操纵间取得平衡。

4. **讨论意义**  
   - 即使当前处于第一阶段，提前探索第二阶段机制有助于进行**市场价格发现**，测试用户真实付费意愿，为未来过渡做准备。


---

承接之前的讨论，以下是 Yonatan 提出的另外三种截然不同的解决方案。

**方案三：实施有用工作量证明**
*   **核心内容：** 一个完全独立的解决方案是在未来规划中引入**有用工作量证明**。
*   **路径与条件：**
    *   这是一个**长期方案**。
    *   需要先观察和学习**pouw团队**的实际成果与成功经验，然后将其适配到DAG（有向无环图）结构中。
    *   此类重大变更需要社区的**绝对多数共识**才能实现。

**方案四：创建新的代币标准（KRC-21）**
*   **核心内容：** 另一种截然不同的方法是为L2或内置式L2上的**真实DeFi代币**（非 meme 币）发明一种新的代币标准——**KRC-21**。该标准设计的代币会产生有意义的通胀（相当于税收），并支付给矿工以支持L1的安全。
*   **实施方式与愿景：**
    *   该标准**不会通过共识协议强制强制执行**，但相信能形成强大的**社会共识**。
    *   为更好地支持Kaspa，希望这类代币能**强制要求**首先通过公开的AMM或CLOB与Kas进行交换。
*   **背景灵感：** 此想法源于以太坊社区关于L2如何支持L1安全及实现利益一致的讨论。

**方案五（最具战略性的核心工作）：推动Kaspa发展阶段升级**
*   **核心内容：** 最重要、最具有战略性的工作是**帮助Kaspa从其当前阶段向上推进**（从第一阶段到第二阶段，再到第三阶段）。
*   **现状与展望：**
    *   这符合Kaspa的既定发展轨迹。
    *   许多Kaspa社区成员（包括发言者本人）正在为此努力。
    *   预计在接下来的几周内分享更多细节。


## 2. 历史交易记录丢失问题

::: tip 问题提出

- 在 Kaspa 早期，部分历史交易记录没有被保存下来。原因是： 
 
  * Kaspa 的数据修剪机制

  * 在项目早期，团队对完整历史记录的保存工作不重视（因为不影响安全）。

- 很多人担心，没有完整的账本历史，可能意味着链的安全性或透明度存在问题。

:::

### (1). 快速的回答

- 历史账本不完整，**不影响 Kaspa 的安全**。

- Kaspa 本身就自带数据修剪功能。**网络的安全性和透明度由密码学保证（硬编码创世块和创世证明），而非依赖于存储所有历史数据。**

- 关于 Kaspa 网络完整性校验，参考 [检查点区块](/kas-timeline/#_2-检查点区块) 这一章节，其中包含了网友自己实现的完整性校验。


### (2). Kaspa 是安全的

- Shai 在下面这篇文章中，详细回答了这个问题：
  * [https://x.com/DesheShai/status/1687201025344540672](https://x.com/DesheShai/status/1687201025344540672)


::: info 翻译

大家好，$Kas。显然，有些人担心我们的账本历史存在一些数据间隙。有人问这是否意味着链的安全性或透明度存在问题（并且像往常一样，我们所熟知的一些喷子甚至声称这“证明”了我们在“隐瞒”“速度挖矿”的“事实”）。让我来让大家放心：正如我即将解释的，这完全不是一个问题。

0. 在开始之前，你必须理解**数据修剪是至关重要的**。如果不进行修剪，在满负荷（10BPS）运行下，账本数据每年会增长近**30TB**。如果我们希望Kaspa保持去中心化，这是极其不可持续的。

1. 主要的担忧似乎是，缺乏完整的账本数据意味着无法从创世区块验证当前状态（特别是，无法证明没有预挖矿）。但事实并非如此。
    创世区块本身被硬编码在节点的代码中，正如你在这里看到的：
    https://github.com/kaspanet/rusty-kaspa/blob/ce3e231d0ae103557dc4c44a4dcf31265961a2e4/consensus/core/src/config/genesis.rs#L163
    
    我链接的第163行特别显示，硬编码的创世区块有一个空的UTXO集合，也就是说，**没有预挖矿**（细心的读者可以克隆代码库并验证`EMPTY_MUHASH`确实被定义为一个空集的哈希值）。

    节点存储的数据中包含一个**创世证明**。这个证明是一个简短的字符串，它用密码学方法证明了当前状态确实是从硬编码的创世区块演化而来，并且有一个神奇的特性：伪造这样一个证明需要消耗与创建整个账本相同的工作量。也就是说，这个字符串提供了创世区块和当前状态是真实的证明，并且这个证明的可靠性与拥有整个账本一样强。

    用于生成该证明的技术在这里有讨论：https://eprint.iacr.org/2021/623.pdf

    你也可以参考GHOSTDAG 101研讨会的“修剪区块头”部分来大致了解该技术：https://youtu.be/nhI2zo44dfc?t=6354

    **关键是，每个节点可用的数据足以从创世区块验证当前状态。**

    没有从第一天起就运行一个存档节点可能有点缺乏远见，但坦率地说，主网上线后我们有太多事情要处理，这件事被搁置了，主要是因为我们知道它对于网络的安全性或完整性并不关键，所以优先级不高。

2. 账本数据大多没什么意思，我真的不明白大多数用户期望在那里找到什么。
    话虽如此，确实有理由需要整个账本数据，主要是：

    a. **美观性**。也就是说，如果全部数据都可用，我根本不需要解释所有这些。

    b. **统计和研究**：这些数据可用于调查趋势和全局现象。

    c. **用户需求**：有些用户可能需要这些数据，例如出于税务审计原因（例如，在以色列，挖矿收益和交易收益的税率不同，长期持币的矿工需要根据挖矿时的价值为挖出的币纳税，因此他们应该能够证明是在何时挖出的，等等）。

    因此，我们正在努力拼凑完整的历史记录（所以，特别是，如果你恰好有旧的数据目录，请在我们的Discord服务器的 #datadir-exchange 频道中联系我们）。

3. 如前所述，一些无聊的FUD散布者（迫切需要更好的爱好）试图利用这一点作为我们“速度挖矿”或无论什么的“证据”。
   
   这个论调很愚蠢，原因有二：

    a. 对于任何人在任何（无需许可的）币上，**要证明他们拥有的钱没有比声称的更多是不可能的**。这根本不可能。任何想隐藏代币的人都可以将它们存储在一个保密的独立地址中。证明两个地址属于同一个人从极其困难到不可能。当涉及的代币是由该人挖出时，这绝对是**不可能**的，因为矿工完全可以将多余的代币挖到另一个地址，并且没有历史记录显示这些代币与已知地址有关联。**即使拥有完整的账本数据，这一点也成立。**

    b. 即使在假设的、极不现实的情况下，历史中的某个地方存在某些“确凿证据”证明某人有不当行为。现状是，我们正在从用户保留的数据中拼凑历史。特别是，任何用户都可以验证他们拥有的数据目录已被包含在内（因此不能被方便地省略）。因此，**没有一个人能够控制历史间隙到底在哪里**。那么这里的论调到底是什么？是说完整的账本数据隐藏了某个可怕的秘密，而我们指望着包含这个秘密的特定部分永远不会出现的盲目的运气？得了吧。

总之，修剪机制的设计使得Kaspa即使没有任何存档节点也是安全、可靠并保持其完整性的。缺乏存档节点并不会以任何方式使隐藏资金变得更容易。历史数据间隙确实有一些缺点，但它们主要关乎研究数据和用户便利性，**完全不会损害网络的透明度和安全性**。

（附言，这一点不是特别关键，但你必须欣赏其中的讽刺：一些散布这种FUD的喷子是某个特定隐私币的支持者。隐私币的整个承诺在于**整个账本都是被隐藏的**，无法知道谁支付了谁以及支付了多少。所以根据这些人的 flawed logic，整个账本不可访问是“一个特性”，而历史中的一些小间隙却是“缺乏透明度”。这是蠢货围绕没射中的箭画靶子的一个特别生动的例子。）

:::



**总结**：

- Kaspa的数据修剪机制是一项经过深思熟虑的设计选择，旨在保证网络的长期可扩展性和去中心化。

- **网络的安全性和透明度由密码学保证（硬编码创世块和创世证明），而非依赖于存储所有历史数据。**


---

### (2). 有多少未找回的历史账本数据

| 时间 | 历史账本数据情况 | 
| :--- | :--- |
| 2022-02-10 之前 | 已大概找回 75% |
| 2022-02-10 之后 | 已找回全部 100% |

::: tip TIP
目前，团队似乎没有动力和精力去找回 2022-02-10 之前的全部历史账本数据。
:::

- 信息来源（2025年5月）：

  * [https://x.com/supertypo_kas/status/1920013590335001010](https://x.com/supertypo_kas/status/1920013590335001010)

  * [https://x.com/supertypo_kas/status/1920182964220002750](https://x.com/supertypo_kas/status/1920182964220002750)

  * [https://x.com/kaspador_/status/1919800938325225925](https://x.com/kaspador_/status/1919800938325225925)

<img :src="$withBase('/kas/kas-discussion-missing-trx-history.png')" />



